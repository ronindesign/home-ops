---
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/external-secrets.io/clustersecretstore_v1.json
apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: staging
  namespace: external-secrets
spec:
  provider:
    onepassword:
      connectHost: http://10.13.37.70:9430
      vaults:
        "Home-Ops Default": 1  # look in this vault first
      auth:
        secretRef:
          connectTokenSecretRef:
            name: onepassword-connect-token-staging
            key: token
# Example - Not used
# apiVersion: external-secrets.io/v1beta1
# kind: ClusterSecretStore
# metadata:
#   name: vault-backend-global
# spec:
#   provider:
#     vault:
#       server: "https://vault.your-domain.com"
#       path: secret
#       version: v2
#       auth:
#         # points to a secret that contains a vault token
#         # https://www.vaultproject.io/docs/auth/token
#         tokenSecretRef:
#           name: "vault-token-global"
#           key: "token"
#           namespace: external-secrets